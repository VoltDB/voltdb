# Expected DDL Source: (when running the Voter example app)

CREATE TABLE AREA_CODE_STATE (
   AREA_CODE smallint NOT NULL,
   STATE varchar(2) NOT NULL,
   CONSTRAINT PK_AREA_CODE_STATE PRIMARY KEY (AREA_CODE)
);

CREATE TABLE CONTESTANTS (
   CONTESTANT_NUMBER integer NOT NULL,
   CONTESTANT_NAME varchar(50) NOT NULL,
   CONSTRAINT PK_CONTESTANTS PRIMARY KEY (CONTESTANT_NUMBER)
);

CREATE TABLE VOTES (
   PHONE_NUMBER bigint NOT NULL,
   STATE varchar(2) NOT NULL,
   CONTESTANT_NUMBER integer NOT NULL
);
PARTITION TABLE VOTES ON COLUMN PHONE_NUMBER;

CREATE VIEW V_VOTES_BY_CONTESTANT_NUMBER_STATE (
   CONTESTANT_NUMBER,
   STATE,
   NUM_VOTES
) AS 
   SELECT CONTESTANT_NUMBER,STATE,COUNT(*)FROM VOTES GROUP BY CONTESTANT_NUMBER,STATE;

CREATE VIEW V_VOTES_BY_PHONE_NUMBER (
   PHONE_NUMBER,
   NUM_VOTES
) AS 
   SELECT PHONE_NUMBER,COUNT(*)FROM VOTES GROUP BY PHONE_NUMBER;


CREATE PROCEDURE 
   FROM CLASS voter.ContestantWinningStates;

CREATE PROCEDURE 
   FROM CLASS voter.GetStateHeatmap;

CREATE PROCEDURE 
   FROM CLASS voter.Initialize;

CREATE PROCEDURE 
   FROM CLASS voter.Results;

CREATE PROCEDURE 
   PARTITION ON TABLE VOTES COLUMN PHONE_NUMBER
   FROM CLASS voter.Vote;