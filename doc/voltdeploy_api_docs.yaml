swagger: '2.0'

info:
  version: "1.0"
  title: Voltdeploy API
host: localhost:8000
basePath: /api/1.0
schemes:
  - http

paths:
  /databases/:
    get:
      description: |
        List databases

      responses:
        200:
          description: Successful operation
          schema:
            type: object
            properties:
              databases:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: integer
                    members:
                      type: array
                      items:
                        type: integer
                    name:
                      type: string
              status:
                type: integer
              statusString:
                type: string

    post:
      description: |
        Adds database

      parameters:
        - name: data
          in: body
          schema:
            $ref: "#/definitions/database"
          required: true

      consumes:
        - application/json

      responses:
        201:
          description: Successful operation
          schema:
            type: object
            properties:
              database:
                type: object
                properties:
                  id:
                    type: integer
                  members:
                    type: array
                    items:
                      type: integer
                  name:
                    type: string
              status:
                type: integer
              statusString:
                type: string

  /databases/{database_id}:
    get:
      description: |
        Gets database objects

      parameters:
        - name: database_id
          in: path
          type: integer
          required: true

      responses:
        200:
          description: Successful operation
          schema:
            type: object
            properties:
              database:
                type: object
                properties:
                  id:
                    type: integer
                  members:
                    type: array
                    items:
                      type: integer
                  name:
                    type: string
              status:
                type: integer
              statusString:
                type: string

    put:
      description: |
        Updates database properties

      parameters:
        - name: database_id
          in: path
          type: integer
          required: true

        - name: data
          in: body
          schema:
            $ref: '#/definitions/database'
          required: true
      consumes:
        - application/json

      responses:
        200:
          description: Successful operation
          schema:
            type: object
            properties:
              database:
                type: object
                properties:
                  id:
                    type: integer
                  members:
                    type: array
                    items:
                      type: integer
                  name:
                    type: string
              status:
                type: integer
              statusString:
                type: string

    delete:
      description: |
        Deletes database

      parameters:
        - name: database_id
          in: path
          type: integer
          required: true

      consumes:
        - application/json

      responses:
        204:
          description: No content on successfull deletion

  /databases/{database_id}/servers/:
    get:
      description:
        Gets server list from database
      parameters:
        - name: database_id
          in: path
          type: integer
          required: true
      responses:
        200:
          description: Successful operation
          schema:
            type: object
            properties:
              members:
                type: array
                items:
                  type: object
                  properties:
                    admin-listener:
                      type: string
                    client-listener:
                      type: string
                    description:
                      type: string
                    enabled:
                      type: string
                    external-interface:
                      type: string
                    hostname:
                      type: string
                    http-listener:
                      type: string
                    id:
                      type: integer
                    internal-interface:
                      type: string
                    internal-listener:
                      type: string
                    name:
                      type: string
                    placement-group:
                      type: string
                    public-interface:
                      type: string
                    replication-listener:
                      type: string
                    zookeeper-listener:
                      type: string
                    voltdbroot:
                      type: string
                    snapshots:
                      type: string
                    commandlogsnapshot:
                      type: string
                    droverflow:
                      type: string
                    exportoverflow:
                      type: string
                    commandlog:
                      type: string
              status:
                type: integer
              statusString:
                type: string

    post:
      description:
        Adds server
      parameters:
        - name: database_id
          in: path
          type: integer
          required: true

        - name: data
          in: body
          schema:
            $ref: "#/definitions/server"
          required: true

      responses:
        201:
          description: Successful operation
          schema:
            type: object
            properties:
              members:
                type: array
                items:
                  type: integer
              server:
                type: object
                properties:
                  admin-listener:
                    type: string
                  client-listener:
                    type: string
                  description:
                    type: string
                  enabled:
                    type: string
                  external-interface:
                    type: string
                  hostname:
                    type: string
                  http-listener:
                    type: string
                  id:
                    type: integer
                  internal-interface:
                    type: string
                  internal-listener:
                    type: string
                  name:
                    type: string
                  placement-group:
                    type: string
                  public-interface:
                    type: string
                  replication-listener:
                    type: string
                  zookeeper-listener:
                    type: string
                  voltdbroot:
                    type: string
                  snapshots:
                    type: string
                  commandlogsnapshot:
                    type: string
                  droverflow:
                    type: string
                  exportoverflow:
                    type: string
                  commandlog:
                    type: string
              status:
                type: integer
              statusString:
                type: string

  /databases/{database_id}/servers/{server_id}/:
    get:
      description:
        Gets server details of a database
      parameters:
        - name: database_id
          in: path
          type: integer
          required: true
        - name: server_id
          in: path
          type: integer
          required: true
      responses:
        200:
          description: Successful operation
          schema:
            type: object
            properties:
              server:
                type: object
                properties:
                  admin-listener:
                    type: string
                  client-listener:
                    type: string
                  description:
                    type: string
                  enabled:
                    type: string
                  external-interface:
                    type: string
                  hostname:
                    type: string
                  http-listener:
                    type: string
                  id:
                    type: integer
                  internal-interface:
                    type: string
                  internal-listener:
                    type: string
                  name:
                    type: string
                  placement-group:
                    type: string
                  public-interface:
                    type: string
                  replication-listener:
                    type: string
                  zookeeper-listener:
                    type: string
                  voltdbroot:
                    type: string
                  snapshots:
                    type: string
                  commandlogsnapshot:
                    type: string
                  droverflow:
                    type: string
                  exportoverflow:
                    type: string
                  commandlog:
                    type: string
              status:
                type: integer
              statusString:
                type: string

    put:
      description:
        Updates a server
      parameters:
        - name: database_id
          in: path
          type: integer
          required: true
        - name: server_id
          in: path
          type: integer
          required: true
        - name: data
          in: body
          required: true
          schema:
            $ref: "#/definitions/server"

      responses:
        200:
          description: Successful operation
          schema:
            type: object
            properties:
              server:
                type: object
                properties:
                  admin-listener:
                    type: string
                  client-listener:
                    type: string
                  description:
                    type: string
                  enabled:
                    type: string
                  external-interface:
                    type: string
                  hostname:
                    type: string
                  http-listener:
                    type: string
                  id:
                    type: integer
                  internal-interface:
                    type: string
                  internal-listener:
                    type: string
                  name:
                    type: string
                  placement-group:
                    type: string
                  public-interface:
                    type: string
                  replication-listener:
                    type: string
                  zookeeper-listener:
                    type: string
              status:
                type: integer
              statusString:
                type: string

    delete:
      description:
        Deletes server.
      parameters:
        - name: database_id
          in: path
          type: integer
          required: true
        - name: server_id
          in: path
          type: integer
          required: true
      responses:
        204:
          description: No Content on successfull deletion.

  /databases/{database_id}/deployment/:
    get:
      description:
        Gets the deployment object when 'Accept' is set to 'application/json'
        and deployment xml when 'Accept' is set to 'text/xml'.
      parameters:
        - name: database_id
          type: integer
          in: path
          required: true
      produces:
        - application/json
        - text/xml

      responses:
        200:
          description: Successful operation
          schema:
            $ref: "#/definitions/deploymentResponse"

    put:
      description:
        Update deployment properties
      parameters:
        - name: database_id
          type: integer
          in: path
          required: true
        - name: data
          in: body
          required: true
          schema:
            $ref: "#/definitions/deployment"
      consumes:
        - application/json
        - text/xml
      responses:
        200:
          description: Successful operation
          schema:
            $ref: "#/definitions/deploymentResponse"

  /databases/{database_id}/status:
    get:
      description: |
        Gets Status of database

      parameters:
        - name: database_id
          in: path
          type: integer
          required: true

      responses:
        200:
          description: Successful operation
          schema:
            type: object
            properties:
              dbStatus:
                type: object
                properties:
                  isFreshStart:
                    type: boolean
                  serverStatus:
                    type: array
                    items:
                      type: object
                      properties:
                        ip:
                          type: object
                          properties:
                            details:
                              type: string
                            status:
                              type: string
              status:
                type: integer
              statusString:
                type: string

  /databases/{database_id}/servers/{server_id}/status/:
    get:
      description: |
        Gets status of server.

      parameters:
        - name: database_id
          in: path
          type: integer
          required: true
        - name: server_id
          in: path
          type: integer
          required: true

      responses:
        200:
          description: Successful operation
          schema:
            type: object
            properties:
              serverStatus:
                type: object
                properties:
                  details:
                    type: string
                  status:
                    type: string
              status:
                type: integer
              statusString:
                type: string

  /databases/{database_id}/start:
    put:
      description:
        Starts database
      parameters:
        - name: database_id
          in: path
          type: integer
          required: true
      responses:
        200:
          description: Successful operation
          schema:
            type: object
            properties:
              status:
                type: integer
              statusString:
                type: string

  /databases/{database_id}/stop:
    put:
      description:
        Stops database
      parameters:
        - name: database_id
          in: path
          type: integer
          required: true
      responses:
        200:
          description: Successful operation
          schema:
            type: object
            properties:
              status:
                type: integer
              statusString:
                type: string

  /databases/{database_id}/recover:
    put:
      description:
        Recovers database
      parameters:
        - name: database_id
          in: path
          type: integer
          required: true
      responses:
        200:
          description: Successful operation
          schema:
            type: object
            properties:
              status:
                type: integer
              statusString:
                type: string

  /databases/{database_id}/servers/{server_id}/start:
    put:
      description:
        Starts a server
      parameters:
        - name: database_id
          in: path
          type: integer
          required: true
        - name: server_id
          in: path
          type: integer
          required: true
      responses:
        200:
          description: Successful operation
          schema:
            type: object
            properties:
              status:
                type: integer
              statusString:
                type: string

  /databases/{database_id}/servers/{server_id}/stop:
    put:
      description:
        Stops the server
      parameters:
        - name: database_id
          in: path
          type: integer
          required: true
        - name: server_id
          in: path
          type: integer
          required: true
      responses:
        200:
          description: Successful operation
          schema:
            type: object
            properties:
              status:
                type: integer
              statusString:
                type: string

  /databases/{database_id}/users/:
    get:
      description:
        Gets security users of database
      parameters:
        - name: database_id
          in: path
          type: integer
          required: true
      responses:
        200:
          description: Successful operation
          schema:
            type: object
            properties:
              deployment:
                type: array
                items:
                  type: object
                  properties:
                    databaseid:
                      type: integer
                    name:
                      type: string
                    password:
                      type: string
                    plaintext:
                      type: boolean
                    roles:
                      type: string
                    userid:
                      type: integer

    post:
      description:
        Creates new security users of database
      parameters:
        - name: database_id
          in: path
          type: integer
          required: true
        - name: data
          in: body
          required: true
          schema:
            $ref: "#/definitions/user"
      responses:
        200:
          description: Successful operation
          schema:
            type: object
            properties:
              user:
                type: object
                properties:
                  databaseid:
                    type: integer
                  name:
                    type: string
                  password:
                    type: string
                  plaintext:
                    type: boolean
                  roles:
                    type: string
                  userid:
                    type: integer
              status:
                type: integer
              statusString:
                type: string

  /databases/{database_id}/users/{user_id}/:
    put:
      description:
        Updates security users
      parameters:
        - name: database_id
          in: path
          type: integer
          required: true
        - name: user_id
          in: path
          type: integer
          required: true
        - name: data
          in: body
          required: true
          schema:
            $ref: "#/definitions/user"

      responses:
        200:
          description: Successful operation
          schema:
            type: object
            properties:
              user:
                type: object
                properties:
                  databaseid:
                    type: integer
                  name:
                    type: string
                  password:
                    type: string
                  plaintext:
                    type: boolean
                  roles:
                    type: string
                  userid:
                    type: integer

              status:
                type: integer
              statusString:
                type: string

    delete:
      description:
        Deletes security users
      parameters:
        - name: database_id
          in: path
          type: integer
          required: true
        - name: user_id
          in: path
          type: integer
          required: true

      responses:
        201:
          description: Successful operation
          schema:
            type: object
            properties:
              status:
                type: integer
              statusString:
                type: string

  /voltdeploy/status/:
    get:
      description: |
        Gets status of Votldeploy

      responses:
        200:
          description: Voltdeploy status.
          schema:
            type: object
            properties:
              voltdeploy:
                type: object
                properties:
                  running:
                    type: string

  /voltdeploy/configuration/:
    get:
      description:
        Gets Voltdeploy configurations
      responses:
        200:
          description: Voltdeploy Object
          schema:
            $ref: "#/definitions/voltdeployConfig"

  /databases/{database_id}/servers/start?id={server_id}:
    put:
      description:
        Starts the VoltDB in the server
      parameters:
        - name: database_id
          in: path
          type: integer
          required: true
        - name: server_id
          in: path
          type: integer
          required: true
      responses:
        200:
          description: Successful operation
          schema:
            type: object
            properties:
              status:
                type: integer
              statusString:
                type: string

  /databases/{database_id}/servers/recover?id={server_id}:
    put:
      description:
        Recovers the VoltDB in the server
      parameters:
        - name: database_id
          in: path
          type: integer
          required: true
        - name: server_id
          in: path
          type: integer
          required: true
      responses:
        200:
          description: Successful operation
          schema:
            type: object
            properties:
              status:
                type: integer
              statusString:
                type: string

  /databases/{database_id}/start?pause={pause_status}:
    put:
      description:
        Starts database
      parameters:
        - name: database_id
          in: path
          type: integer
          required: true
        - name: pause_status
          in: path
          type: boolean
          required: true
      responses:
        200:
          description: Successful operation
          schema:
            type: object
            properties:
              status:
                type: integer
              statusString:
                type: string

  /databases/{database_id}/recover?pause={pause_status}:
    put:
      description:
        Starts database
      parameters:
        - name: database_id
          in: path
          type: integer
          required: true
        - name: pause_status
          in: path
          type: boolean
          required: true
      responses:
        200:
          description: Successful operation
          schema:
            type: object
            properties:
              status:
                type: integer
              statusString:
                type: string



definitions:
  database:
    type: object
    description: Schema of object passed while creating and  updating database.
    properties:
      name:
        type: string

  server:
    type: object
    description: Schema of object passed while creating and updating server.
    properties:
      name:
        type: string
      hostname:
        type: string
      description:
        type: string
      admin-listener:
        type: string
      client-listener:
        type: string
      external-interface:
        type: string
      http-listener:
        type: string
      internal-interface:
        type: string
      internal-listener:
        type: string
      placement-group:
        type: string
      public-interface:
        type: string
      replication-listener:
        type: string
      zookeeper-listener:
        type: string

  deployment:
    description: Schema of object passed while updating the deployment.
    type: object
    properties:
      admin-mode:
        type: object
        properties:
          adminstartup:
            type: boolean
          port:
            type: integer
      cluster:
        type: object
        properties:
          elastic:
            type: string
          hostcount:
            type: integer
          kfactor:
            type: integer
          schema:
            type: string
          sitesperhost:
            type: integer
      commandlog:
        type: object
        properties:
          enabled:
            type: boolean
          frequency:
            type: object
            properties:
              time:
                type: integer
              transactions:
                type: integer
          logsize:
            type: integer
          synchronous:
            type: boolean
      export:
        type: object
        properties:
          configuration:
            type: array
            items:
              type: object
              properties:
                enabled:
                  type: boolean
                exportconnectorclass:
                  type: string
                property:
                  type: array
                  items:
                    type: object
                    properties:
                      name:
                        type: string
                      value:
                        type: string
                stream:
                  type: string
                type:
                  type: string
      heartbeat:
        type: object
        properties:
          timeout:
            type: integer

      httpd:
        type: object
        properties:
          enabled:
            type: boolean
          jsonapi:
            type: object
            properties:
              enabled:
                type: boolean
          port:
            type: integer

      import:
        type: object
        properties:
          configuration:
            type: array
            items:
              type: object
              properties:
                enabled:
                  type: boolean
                format:
                  type: string
                module:
                  type: string
                property:
                  type: array
                  items:
                    type: object
                    properties:
                      name:
                        type: string
                      value:
                        type: string
                type:
                    type: string

      partition-detection:
        type: object
        properties:
          enabled:
            type: boolean
          snapshot:
            type: object
            properties:
              prefix:
                type: string

      paths:
        type: object
        properties:
          commandlog:
            type: object
            properties:
              path:
                type: string
          commandlogsnapshot:
            type: object
            properties:
              path:
                type: string
          droverflow:
            type: object
            properties:
              path:
                type: string
          exportoverflow:
            type: object
            properties:
              path:
                type: string
          snapshots:
            type: object
            properties:
              path:
                type: string
          voltdbroot:
            type: object
            properties:
              path:
                type: string

      security:
        type: object
        properties:
          enabled:
            type: boolean
          provider:
            type: string

      snapshot:
        type: object
        properties:
          enabled:
            type: boolean
          frequency:
            type: string
          prefix:
            type: string
          retain:
            type: integer

      systemsettings:
        type: object
        properties:
          elastic:
            type: object
            properties:
              duration:
                type: integer
              throughput:
                type: integer
          query:
            type: object
            properties:
              timeout:
                type: integer

          resourcemonitor:
            type: object
            properties:
              disklimit:
                type: object
                properties:
                  feature:
                    type: array
                    items:
                      type: object
                      properties:
                        name:
                          type: string
                        size:
                          type: string
              memorylimit:
                type: object
                properties:
                  size:
                    type: string

          snapshot:
            type: object
            properties:
              priority:
                type: integer

          temptables:
            type: object
            properties:
              maxsize:
                type: integer

      snmp:
        type: object
        properties:
          enabled:
            type: boolean
          target:
            type: string
          community:
            type: string
          username:
            type: string
          authprotocol:
            type: string
          authkey:
            type: string
          privacyprotocol:
            type: string
          privacykey:
            type: string

  deploymentResponse:
    description: Schema of deployment object contained in the response  of deployment API.
    type: object
    properties:
      deployment:
        type: object
        properties:
          admin-mode:
            type: object
            properties:
              adminstartup:
                type: boolean
              port:
                type: integer
          cluster:
            type: object
            properties:
              elastic:
                type: string
              hostcount:
                type: integer
              kfactor:
                type: integer
              schema:
                type: string
              sitesperhost:
                type: integer
          commandlog:
            type: object
            properties:
              enabled:
                type: boolean
              frequency:
                type: object
                properties:
                  time:
                    type: integer
                  transactions:
                    type: integer
              logsize:
                type: integer
              synchronous:
                type: boolean
          dr:
            type: object
            properties:
              connection:
                type: object
                properties:
                  source:
                    type: string
              id:
                type: integer
              listen:
                type: boolean
              port:
                type: integer
          export:
            type: object
            properties:
              configurations:
                type: array
                items:
                  type: object
                  properties:
                    enabled:
                      type: boolean
                    exportconnectorclass:
                      type: string
                    property:
                      type: array
                      items:
                        type: object
                        properties:
                          name:
                            type: string
                          value:
                            type: string
                    stream:
                      type: string
                    type:
                      type: string
          heartbeat:
            type: object
            properties:
              timeout:
                type: integer

          httpd:
            type: object
            properties:
              enabled:
                type: boolean
              jsonapi:
                type: object
                properties:
                  enabled:
                    type: boolean
              port:
                type: integer

          import:
            type: object
            properties:
              configurations:
                type: array
                items:
                  type: object
                  properties:
                    enabled:
                      type: boolean
                    format:
                      type: string
                    module:
                      type: string
                    property:
                      type: array
                      items:
                        type: object
                        properties:
                          name:
                            type: string
                          value:
                            type: string
                    type:
                      type: string

          partition-detection:
            type: object
            properties:
              enabled:
                type: boolean
              snapshot:
                type: object
                properties:
                  prefix:
                    type: string

          paths:
            type: object
            properties:
              commandlog:
                type: object
                properties:
                  path:
                    type: string
              commandlogsnapshot:
                type: object
                properties:
                  path:
                    type: string
              droverflow:
                type: object
                properties:
                  path:
                    type: string
              exportoverflow:
                type: object
                properties:
                  path:
                    type: string
              snapshots:
                type: object
                properties:
                  path:
                    type: string
              voltdbroot:
                type: object
                properties:
                  path:
                    type: string

          security:
            type: object
            properties:
              enabled:
                type: boolean
              provider:
                type: string

          snapshot:
            type: object
            properties:
              enabled:
                type: boolean
              frequency:
                type: string
              prefix:
                type: string
              retain:
                type: integer

          systemsettings:
            type: object
            properties:
              elastic:
                type: object
                properties:
                  duration:
                    type: integer
                  throughput:
                    type: integer
              query:
                type: object
                properties:
                  timeout:
                    type: integer

              resourcemonitor:
                type: object
                properties:
                  disklimit:
                    type: object
                    properties:
                      feature:
                        type: array
                        items:
                          type: object
                          properties:
                            name:
                              type: string
                            size:
                              type: string
                  memorylimit:
                    type: object
                    properties:
                      size:
                        type: string

              snapshot:
                type: object
                properties:
                  priority:
                    type: integer

              temptables:
                type: object
                properties:
                  maxsize:
                    type: integer

          snmp:
            type: object
            properties:
              enabled:
                type: boolean
              target:
                type: string
              community:
                type: string
              username:
                type: string
              authprotocol:
                type: string
              authkey:
                type: string
              privacyprotocol:
                type: string
              privacykey:
                type: string

          users:
            type: object
            properties:
              user:
                type: array
                items:
                  type: object
                  properties:
                    name:
                      type: string
                    plaintext:
                      type: string
                    roles:
                      type: string

  user:
    description: Schema of object passed while creating and updating the user.
    type: object
    properties:
      name:
        type: string
      password:
        type: string
      roles:
        type: string

  voltdeployConfig:
    description: Schema of configuration object contained in the response of configuration API.
    type: object
    properties:
      databases:
        type: array
        items:
          type: object
          properties:
            id:
              type: integer
            members:
              type: array
              items:
                type: integer
            name:
              type: string
      deployment_users:
        type: array
        items:
          type: object
          properties:
            databaseid:
              type: integer
            name:
              type: string
            password:
              type: string
            plaintext:
              type: boolean
            roles:
              type: string
            userid:
              type: integer
      deployments:
        type: array
        items:
          type: object
          properties:
            deployment:
              type: object
              properties:
                admin-mode:
                  type: object
                  properties:
                    adminstartup:
                      type: boolean
                    port:
                      type: integer
                cluster:
                  type: object
                  properties:
                    elastic:
                      type: string
                    hostcount:
                      type: integer
                    kfactor:
                      type: integer
                    schema:
                      type: string
                    sitesperhost:
                      type: integer
                commandlog:
                  type: object
                  properties:
                    enabled:
                      type: boolean
                    frequency:
                      type: object
                      properties:
                        time:
                          type: integer
                        transactions:
                          type: integer
                    logsize:
                      type: integer
                    synchronous:
                      type: boolean
                databaseid:
                  type: integer
                dr:
                  type: object
                  properties:
                    connection:
                      type: object
                      properties:
                        source:
                          type: string
                    id:
                      type: integer
                    listen:
                      type: boolean
                    port:
                      type: integer
                export:
                  type: object
                  properties:
                    configurations:
                      type: array
                      items:
                        type: object
                        properties:
                          enabled:
                            type: boolean
                          exportconnectorclass:
                            type: string
                          property:
                            type: array
                            items:
                              type: object
                              properties:
                                name:
                                  type: string
                                value:
                                  type: integer
                          stream:
                            type: string
                          type:
                            type: string
                heartbeat:
                  type: object
                  properties:
                    timeout:
                      type: integer

                httpd:
                  type: object
                  properties:
                    enabled:
                      type: boolean
                    jsonapi:
                      type: object
                      properties:
                        enabled:
                          type: boolean
                    port:
                      type: integer

                import:
                  type: object
                  properties:
                    configurations:
                      type: array
                      items:
                        type: object
                        properties:
                          enabled:
                            type: boolean
                          format:
                            type: string
                          module:
                            type: string
                          property:
                            type: array
                            items:
                              type: object
                              properties:
                                name:
                                  type: string
                                value:
                                  type: string
                          type:
                            type: string

                partition-detection:
                  type: object
                  properties:
                    enabled:
                      type: boolean
                    snapshot:
                      type: object
                      properties:
                        prefix:
                          type: string

                paths:
                  type: object
                  properties:
                    commandlog:
                      type: object
                      properties:
                        path:
                          type: string
                    commandlogsnapshot:
                      type: object
                      properties:
                        path:
                          type: string
                    droverflow:
                      type: object
                      properties:
                        path:
                          type: string
                    exportoverflow:
                      type: object
                      properties:
                        path:
                          type: string
                    snapshots:
                      type: object
                      properties:
                        path:
                          type: string
                    voltdbroot:
                      type: object
                      properties:
                        path:
                          type: string

                security:
                  type: object
                  properties:
                    enabled:
                      type: boolean
                    provider:
                      type: string

                snapshot:
                  type: object
                  properties:
                    enabled:
                      type: boolean
                    frequency:
                      type: string
                    prefix:
                      type: string
                    retain:
                      type: integer

                systemsettings:
                  type: object
                  properties:
                    elastic:
                      type: object
                      properties:
                        duration:
                          type: integer
                        throughput:
                          type: integer
                    query:
                      type: object
                      properties:
                        timeout:
                          type: integer

                    resourcemonitor:
                      type: object
                      properties:
                        disklimit:
                          type: object
                          properties:
                            feature:
                              type: array
                              items:
                                type: object
                                properties:
                                  name:
                                    type: string
                                  size:
                                    type: integer
                        memorylimit:
                          type: object
                          properties:
                            size:
                              type: string

                    snapshot:
                      type: object
                      properties:
                        priority:
                          type: integer

                    temptables:
                      type: object
                      properties:
                        maxsize:
                          type: integer

                snmp:
                  type: object
                  properties:
                    enabled:
                      type: boolean
                    target:
                      type: string
                    community:
                      type: string
                    username:
                      type: string
                    authprotocol:
                      type: string
                    authkey:
                      type: string
                    privacyprotocol:
                      type: string
                    privacykey:
                      type: string

                users:
                  type: object
                  properties:
                    user:
                      type: array
                      items:
                        type: object
                        properties:
                          name:
                            type: string
                          plaintext:
                            type: string
                          roles:
                            type: string
      members:
        type: array
        items:
          type: object
          properties:
            name:
              type: string
            hostname:
              type: string
            description:
              type: string
            admin-listener:
              type: string
            client-listener:
              type: string
            external-interface:
              type: string
            http-listener:
              type: string
            id:
              type: integer
            internal-interface:
              type: string
            internal-listener:
              type: string
            placement-group:
              type: string
            public-interface:
              type: string
            replication-listener:
              type: string
            zookeeper-listener:
              type: string
