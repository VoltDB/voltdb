## Intro
This is a **React** implementation for the new metro app demo. Everything is written in js / jsx on the browser side. The automated server-side script is provided by the npm module `react-scripts`, which internally uses a *WebPackDevServer*.

## Prerequisites
- Please download the latest `NodeJS` package from <https://nodejs.org/en/>. Extract the tar in your desired place and make sure the path to `.../node-v6.11.0/bin` is in your `PATH`.

## Instructions
- Run `./run.sh npminstall` to download the necessary npm dependencies. This only needs to be run once.
- After `./run.sh server` and `./run.sh init`, use `./run.sh nodeserver` to start the node server. A window will pop up automatically. Note that you can change any dev files in this folder while the server is running, all changes will be hot-compiled efficiently.
- The node server is configured to be running at `localhost:3000`.

## Project Structure
- The skeleton of the project is generated by [create-react-app](https://github.com/facebookincubator/create-react-app).
- `metro-server/public`: This folder stores the static files (html, ico, etc.). The root html file contains the `root` element that will be rendered by **React**. There are also a few changes made to the styles in `index.html` (e.g. customized odometer format).
- `metro-server/src`: In this folder the `App.js` is the root element of the whole UI tree. All *jsonp* calls to execute stored procedures are made here in regular interval. The data is passed to the child components as props.
  - `metro-server/src/components`: This folder contains the major components: Full page navigation (`pages.jsx`), two interactive charts and the odometer. `fullpage.jsx` and `navbar.jsx` are not currently in use.
  - `metro-server/src/components-css`: CSS for the various components.
  - `metro-server-src/resources`: Images used in the components.

## Important Modules
- **browser-jsonp**: A browser-side jsonp call library.
- **react-fullpage**: A React implementation of [fullpage.js](https://alvarotrigo.com/fullPage/). A better alterative is to use `fullpage-react`, which supports horizontal scrolling as well.
- **react-vis**: A React visual library for displaying interactive charts.
- **odometer**: For showing numbers smoothly.